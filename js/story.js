// ストーリー一覧を管理するモジュール
// 1話につき1画面分の内容を保持する

export const storyEpisodes = [
  {
    id: 'episode-1',
    title: 'めろんぱんさばいば～',
    paragraphs: [
    '地球の珍味、メロンパンを求めて外来生物が襲来。地球は無政府状態と化す。',
    '迫りくるモンスターに対抗すべく、少女たちは魔法や武器で戦う。',
    '魔力効率のいいメロンパンは少女が効率的に活動できる神秘の食品だ。だが、日頃からメロンパンを食べている少女たちもまたターゲットにされてしまう。',
    '少女たちはモンスターの包囲網を掻い潜りながら運命を打開する策に今日も頭を悩ませている。'
  ],
  },
  {
    id: 'episode-2',
    title: 'メロという少女',
    paragraphs: [
      'モンスターはこちらを見ると襲いかかってくる。',
      'メロンパン愛好家は、甘い日常を守るために策を練る。',
      'モンスターが落とす魔力のオーブを摂取することで身体能力が向上することが判明。',
      '効率よくモンスターを狩り、打開することが大事なようだ。',
      '多くのモンスターを討伐するには仲間が必要だ。',
      'そこでギルドを訪ねると、メロと名乗る少女がいた。',
      '「おはよ～」',
      '今は夜だが、それよりも本人の格好が気になる。',
      'いわゆる旧時代のスクール水着を着用しているのだ。',
      'なんでも、湖の近くを縄張りとして暮らしているらしいからだ。',
      'それはともかく何ができるかを聞いてみよう。',
      '「たたかい？　ん～っ……スナイパーライフル使えるよ」',
      '遠距離型か……頼もしい。',
      '「え？　雇ってくれるの？　すきっ♡」',
      'こうしてメロと同行することになった。しかしこの少女のことはまだよくわかっていない。',
      '何か質問でもしてみよう。',
      '「好きなこと？　ん～っ……寝ることと、食べることと…….あとは……ナイショ♡」'
    ],
  },
  {
    id: 'episode-3',
    title: 'アーマーの調達',
    paragraphs: [
      '日が傾き、モンスターが活性化する時間、メロとモンスター討伐を行う。',
      '魔力弾を撃つ敵は非常に厄介だが、メロがいるおかげでだいぶ楽になった。',
      'しかし、彼女は足が遅く今後の戦闘では不安も残る。なぜなら日に日に敵は強くなっているからだ。',
      'ショップに行き、新開発されたと噂の防御機構を調達すべく居住地域を訪れる。',
      '「これアーマーってやつ？」',
      'そのとおり。我々生存者のなかではアーマーと言われている防御機構だ。魔力によって機能し、敵の攻撃を肩代わりしてくれるのだ。大型のマフラーのようで、身体に巻き付けると魔力によって防御してくれるのだ。',
      '「んっ　これきついね」',
      '人によっては少々きついかもしれない。特にメロみたいな女は。'
    ],
  },
  {
    id: 'episode-4',
    title: 'メロンパンの生産',
    paragraphs: [
    'メロンパンを食い荒らすモンスター。',
    'そもそもメロンパンを作らなければいいのではという疑問はあるが、壁もある。',
    'まず脅迫されてメロンパンを作らされているケースだ。過去には無生産政策も行われたが、生き残るためにやむを得ずメロンパンを献上している者もいる。',
    '次に少女たちのエネルギー元として使われているため、むやみに生産を中止できないのだ。',
    '戦闘員である少女たちはメロンパンの摂取によってモンスターに対抗している。だからメロンパンの生産を止められないのだ。'
    ],
  },
    {
    id: 'episode-5',
    title: 'エナジーシステム',
    paragraphs: [
      'メロンパンエナジーシステム。それは戦闘員が魔力を最大限に活用するために作られた装置だ。',
      '小さな装置を針で身体に繋ぐとアクティベートされる。',
      'もともと、魔力は地表だったり、メロンパンのような神秘食品を摂取することで得られる。',
      '詳しい理屈は知らないが、理の動きに従うことで魔力が飛躍的に上昇するのだ。',
      'エナジーシステムの開発には"ハクシキ"さんと"あんどー"さん、"U"さんが関わっている。',
      'この方達もギルドで知り合った人だ。'
    ],
  },
      {
    id: 'episode-6',
    title: 'Uという少女',
    paragraphs: [
      '「ういっす」',
      'Uと名乗る少女は挨拶をした。',
      '私も挨拶を返す。',
      '「んで、そこのスク水少女はなに？」',
      '「メロだよ～」',
      'この子はいつまでスク水なのだろうか。',
      '「今日はエナジーシステムの支給ということで、こちらを」',
      'エナジーシステムを受け取る。これで戦闘が楽になることを願う。',
      '「ねえ～お腹すいた～」',
      '「話聞いてます？」',
      '「すみません......」',
      'メロの無礼さを謝る。戦闘は得意な子なのだが、正直アホの子ではある。',
      '「まあこの世界では教育が終わってるからこんなアホいっぱいいるのは仕方がない」',
      '「はは......」',
      'このように談笑してたとき、警報が鳴り響いた。'
    ],
  },
];

export function getStoryEpisode(index) {
  if (!Array.isArray(storyEpisodes) || !storyEpisodes.length) return null;
  const safeIndex = Number.isFinite(index) ? Math.min(Math.max(Math.floor(index), 0), storyEpisodes.length - 1) : 0;
  return storyEpisodes[safeIndex] ?? null;
}
